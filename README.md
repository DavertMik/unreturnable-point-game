# Hytopia Dune - Система Тераформінгу

Цей проект демонструє розвинену систему тераформінгу для Hytopia SDK з функціональністю спавнера.

## Основні Функції

### Система Тераформінгу
- **Автоматичне створення пагорбів**: Система створює параболічні пагорби в заданій області
- **Розподілене розширення**: Блоки з'являються хвилями, створюючи реалістичний ефект росту
- **Конфігуровані параметри**: Розмір області, висота, швидкість та тип блоків
- **Спавнер**: Спеціальний блок-спавнер у центрі області, який показує джерело тераформінгу

### Спавнер Тераформінгу
- **Візуальний індикатор**: Використовує блок `dragons-stone.png` для відрізнення від звичайних блоків
- **Центральне розташування**: Автоматично розміщується в центрі області тераформінгу
- **Автоматичне керування**: Створюється при старті та видаляється при зупинці

## Використання

### Базове Використання

```typescript
import { Terraforming } from './terraforming';

// Створення екземпляра тераформінгу з спавнером
const terraforming = new Terraforming(world, {
  centerX: 0,              // Центр X
  centerZ: 0,              // Центр Z
  size: 50,                // Розмір області (50x50)
  targetHeight: 8,         // Максимальна висота пагорбів
  intervalMs: 5000,        // Інтервал між кроками (5 сек)
  terraformSize: 12,       // Розмір кожного пагорба
  blockTypeId: 2,          // Тип блоків для тераформінгу (глина)
  elevationSpeed: 1,       // Швидкість розширення
  spawnerBlockTypeId: 3,   // Тип блоку для спавнера (камінь)
});

// Запуск тераформінгу
terraforming.start();

// Перевірка стану спавнера
if (terraforming.hasActiveSpawner()) {
  const spawner = terraforming.getSpawner();
  console.log('Позиція спавнера:', spawner?.position);
}

// Отримання повного статусу
const status = terraforming.getStatus();
console.log('Статус:', status);

// Зупинка тераформінгу (видаляє спавнер)
terraforming.stop();
```

### Доступні Блоки

З директорії `assets/blocks/` доступні наступні текстури:
- `dragons-stone.png` - використовується для спавнера
- `clay.png` - для базового тераформінгу
- `stone-bricks.png` - альтернатива для спавнера
- `grass/` - для природних пагорбів
- `sand.png` - для пустельного тераформінгу

### Параметри Конфігурації

| Параметр | Тип | За замовчуванням | Опис |
|----------|-----|------------------|------|
| `centerX` | number | - | X координата центру |
| `centerZ` | number | - | Z координата центру |
| `size` | number | - | Розмір області тераформінгу |
| `targetHeight` | number | 5 | Максимальна висота пагорбів |
| `intervalMs` | number | 10000 | Інтервал між кроками (мс) |
| `terraformSize` | number | 10 | Розмір кожного пагорба |
| `blockTypeId` | number | 2 | ID блоку для тераформінгу |
| `elevationSpeed` | number | 0.5 | Швидкість розширення хвиль |
| `spawnerBlockTypeId` | number | 3 | ID блоку для спавнера |

## Приклади

### Швидке Тераформінгу
```typescript
const fastTerraforming = new Terraforming(world, {
  centerX: 10, centerZ: 10, size: 30,
  intervalMs: 2000,     // Швидші кроки
  elevationSpeed: 2,    // Швидше розширення
  spawnerBlockTypeId: 4 // Інший блок для спавнера
});
```

### Великомасштабне Тераформінгу
```typescript
const largeTerraforming = new Terraforming(world, {
  centerX: 0, centerZ: 0, size: 100,
  targetHeight: 15,     // Вищі пагорби
  terraformSize: 20,    // Більші пагорби
  intervalMs: 8000,     // Повільніші кроки для стабільності
});
```

## API Методи

### Основні Методи
- `start()` - Запускає тераформінгу і створює спавнер
- `stop()` - Зупиняє тераформінгу і видаляє спавнер
- `getStatus()` - Повертає поточний статус системи

### Методи Спавнера
- `getSpawner()` - Повертає сутність спавнера або `null`
- `hasActiveSpawner()` - Перевіряє, чи активний спавнер

### Інформаційні Методи
- `getStatus()` - Повна інформація включно зі спавнером

## Запуск

```bash
bun run index.ts
```

Система автоматично:
1. Завантажить карту
2. Створить спавнер у центрі області
3. Почне процес тераформінгу
4. Видалить спавнер при зупинці

## Особливості

- **Візуальне відрізнення**: Спавнер використовує унікальну текстуру `dragons-stone.png`
- **Автоматичне позиціонування**: Спавнер розміщується на 2 блоки вище від поверхні
- **Інтеграція з фізикою**: Спавнер має тип `FIXED`, тому не падає і не рухається
- **Автоматичне керування**: Спавнер автоматично створюється та видаляється
